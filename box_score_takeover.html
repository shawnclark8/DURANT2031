
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Box Score with Totals and Percentages</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
    table { border-collapse: collapse; width: 100%; background: #fff; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 6px 8px; text-align: center; font-size: 14px; }
    th { background-color: #eee; }
    .totals-row { background-color: #ffe0cc; font-weight: bold; }
  </style>
</head>
<body>

<h2>Box Score (with Totals & Percentages)</h2>
<table id="homeBox">
  <thead>
    <tr>
      <th>Player</th><th>FG</th><th>FG%</th><th>3PT</th><th>3PT%</th><th>FT</th><th>FT%</th>
      <th>OREB</th><th>DREB</th><th>REB</th><th>AST</th><th>STL</th><th>BLK</th><th>TO</th><th>PTS</th>
    </tr>
  </thead>
  <tbody id="homeStats"></tbody>
  <tfoot>
    <tr class="totals-row" id="homeTotals">
      <td colspan="15">Loading team totalsâ€¦</td>
    </tr>
  </tfoot>
</table>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const players = [
    { name: "Kam", fgMade: 3, fgAtt: 6, threeMade: 1, threeAtt: 3, ftMade: 2, ftAtt: 2, oreb: 1, dreb: 2, ast: 2, stl: 1, blk: 0, to: 1 },
    { name: "Ronald", fgMade: 4, fgAtt: 8, threeMade: 2, threeAtt: 4, ftMade: 0, ftAtt: 1, oreb: 2, dreb: 3, ast: 3, stl: 2, blk: 1, to: 2 }
  ];

  const tbody = document.getElementById("homeStats");
  const tfoot = document.getElementById("homeTotals");

  const totals = {
    fgMade: 0, fgAtt: 0, threeMade: 0, threeAtt: 0, ftMade: 0, ftAtt: 0,
    oreb: 0, dreb: 0, reb: 0, ast: 0, stl: 0, blk: 0, to: 0, pts: 0
  };

  players.forEach(p => {
    const reb = p.oreb + p.dreb;
    const pts = 2 * (p.fgMade - p.threeMade) + 3 * p.threeMade + p.ftMade;
    totals.fgMade += p.fgMade;
    totals.fgAtt += p.fgAtt;
    totals.threeMade += p.threeMade;
    totals.threeAtt += p.threeAtt;
    totals.ftMade += p.ftMade;
    totals.ftAtt += p.ftAtt;
    totals.oreb += p.oreb;
    totals.dreb += p.dreb;
    totals.reb += reb;
    totals.ast += p.ast;
    totals.stl += p.stl;
    totals.blk += p.blk;
    totals.to += p.to;
    totals.pts += pts;

    tbody.innerHTML += `
      <tr>
        <td>${p.name}</td>
        <td>${p.fgMade}-${p.fgAtt}</td>
        <td>${p.fgAtt ? ((p.fgMade / p.fgAtt) * 100).toFixed(1) + "%" : "0%"}</td>
        <td>${p.threeMade}-${p.threeAtt}</td>
        <td>${p.threeAtt ? ((p.threeMade / p.threeAtt) * 100).toFixed(1) + "%" : "0%"}</td>
        <td>${p.ftMade}-${p.ftAtt}</td>
        <td>${p.ftAtt ? ((p.ftMade / p.ftAtt) * 100).toFixed(1) + "%" : "0%"}</td>
        <td>${p.oreb}</td><td>${p.dreb}</td><td>${reb}</td>
        <td>${p.ast}</td><td>${p.stl}</td><td>${p.blk}</td><td>${p.to}</td><td>${pts}</td>
      </tr>
    `;
  });

  // Render final totals row
  tfoot.innerHTML = `
    <td>Team Total</td>
    <td>${totals.fgMade}-${totals.fgAtt}</td>
    <td>${totals.fgAtt ? ((totals.fgMade / totals.fgAtt) * 100).toFixed(1) + "%" : "0%"}</td>
    <td>${totals.threeMade}-${totals.threeAtt}</td>
    <td>${totals.threeAtt ? ((totals.threeMade / totals.threeAtt) * 100).toFixed(1) + "%" : "0%"}</td>
    <td>${totals.ftMade}-${totals.ftAtt}</td>
    <td>${totals.ftAtt ? ((totals.ftMade / totals.ftAtt) * 100).toFixed(1) + "%" : "0%"}</td>
    <td>${totals.oreb}</td><td>${totals.dreb}</td><td>${totals.reb}</td>
    <td>${totals.ast}</td><td>${totals.stl}</td><td>${totals.blk}</td><td>${totals.to}</td><td>${totals.pts}</td>
  `;
});
</script>

</body>
</html>
