
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Basketball Stat Tracker</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .setup-panel { margin-bottom: 20px; padding: 10px; border: 1px solid #ccc; background: #eef; }
    .stat-table, .stat-table th, .stat-table td { border: 1px solid black; border-collapse: collapse; }
    .stat-table th, .stat-table td { padding: 4px 8px; text-align: center; }
    .hidden { display: none; }
    .scoreboard { font-weight: bold; margin: 10px 0; }
    button.stat-btn { padding: 2px 4px; font-size: 12px; margin: 0 2px; }
  </style>
</head>
<body>

<div class="setup-panel">
  <h2>Game Setup</h2>
  <label for="gameDate">Game Date:</label>
  <input type="date" id="gameDate" value="2025-05-23">
  <label for="opponentName">Opponent:</label>
  <input type="text" id="opponentName" placeholder="Opponent Name">
  <br><br>
  <label for="playerSelect">Select Players:</label>
  <select id="playerSelect" multiple>
    <option>Kam</option>
    <option>Ronald</option>
    <option>Jaedyn</option>
    <option>Khalifa</option>
    <option>Eli</option>
    <option>Sammy</option>
    <option>Ceasar</option>
    <option>Juice</option>
    <option>Ben</option>
    <option>Noah</option>
    <option>Lefty</option>
    <option>Goose</option>
  </select>
  <button onclick="startGame()">Start Game</button>
</div>

<div id="scoreboard" class="hidden">
  <div class="scoreboard">
    Home: <span id="homeScore">0</span> |
    Opponent: <span id="opponentScore">0</span> |
    Home Fouls 1st Half: <span id="homeFouls1">0</span>,
    2nd Half: <span id="homeFouls2">0</span>
  </div>
  <button onclick="resetFouls()">Reset Fouls</button>
</div>

<div id="statTracker" class="hidden">
  <h3>Live Stat Tracker</h3>
  <table class="stat-table" id="statsTable">
    <thead>
      <tr>
        <th>Player</th><th>PTS</th><th>REB-O</th><th>REB-D</th><th>AST</th><th>STL</th><th>BLK</th><th>TO</th><th>PF</th>
        <th>2P</th><th>3P</th><th>FT</th>
      </tr>
    </thead>
    <tbody id="playerStats"></tbody>
    <tfoot>
      <tr><td><strong>Total</strong></td><td colspan="11" id="teamTotals">â€“</td></tr>
    </tfoot>
  </table>

  <h3>Opponent Stats (Proxy)</h3>
  <table class="stat-table">
    <tr><td>Opponent Team Totals:</td><td colspan="11">[Manual Entry or Summary Row]</td></tr>
  </table>
</div>

<script>
let foulHalf = 1;
let playerIdCounter = 0;

function createStatCell(playerId, stat) {
  return '<td>' +
         '<button class="stat-btn" onclick="updateStat(\'' + stat + '\', ' + playerId + ', 1)">+</button>' +
         '<span id="' + stat + '-' + playerId + '">0</span>' +
         '<button class="stat-btn" onclick="updateStat(\'' + stat + '\', ' + playerId + ', -1)">-</button>' +
         '</td>';
}

function startGame() {
  const selectedOptions = Array.from(document.getElementById("playerSelect").selectedOptions);
  const playerStats = document.getElementById("playerStats");
  const statTracker = document.getElementById("statTracker");
  const scoreboard = document.getElementById("scoreboard");

  playerStats.innerHTML = '';
  playerIdCounter = 0;
  selectedOptions.forEach(option => {
    const row = document.createElement("tr");
    let cells = '<td>' + option.value + '</td>';
    ['pts','rebo','rebd','ast','stl','blk','to','pf','twop','threep','ft'].forEach(stat => {
      cells += createStatCell(playerIdCounter, stat);
    });
    row.innerHTML = cells;
    playerStats.appendChild(row);
    playerIdCounter++;
  });

  statTracker.classList.remove("hidden");
  scoreboard.classList.remove("hidden");
  updateTotals();
}

function updateStat(stat, playerId, delta) {
  const el = document.getElementById(stat + '-' + playerId);
  let val = parseInt(el.textContent) + delta;
  if (val < 0) val = 0;
  el.textContent = val;
  if (stat === "pts") {
    const score = document.getElementById("homeScore");
    let total = 0;
    document.querySelectorAll("[id^='pts-']").forEach(e => total += parseInt(e.textContent));
    score.textContent = total;
  }
  if (stat === "pf") {
    const foulsId = "homeFouls" + (foulHalf === 1 ? "1" : "2");
    const fouls = parseInt(document.getElementById(foulsId).textContent);
    document.getElementById(foulsId).textContent = Math.max(fouls + delta, 0);
  }
  updateTotals();
}

function resetFouls() {
  document.getElementById("homeFouls1").textContent = "0";
  document.getElementById("homeFouls2").textContent = "0";
}

function updateTotals() {
  let totalPts = 0;
  document.querySelectorAll("[id^='pts-']").forEach(e => totalPts += parseInt(e.textContent));
  document.getElementById("teamTotals").textContent = "Total Points: " + totalPts;
}
</script>

</body>
</html>
